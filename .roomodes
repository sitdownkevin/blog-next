# K-Space Blog 项目模式配置

## 项目概览
项目名称: k-space
类型: 个人博客网站
框架: Next.js 15 + TypeScript
样式: Tailwind CSS v4 + shadcn/ui
认证: Better Auth
数据库: MongoDB

## 开发模式

### 前端开发模式
- 文件模式: `src/components/**/*.tsx`, `src/app/**/*.tsx`
- 主要任务: UI组件开发、页面布局、用户界面交互
- 相关工具: React 19, Radix UI, Framer Motion, Lucide Icons
- 样式: Tailwind CSS v4 (使用新的 @theme 语法)

### 后端开发模式  
- 文件模式: `src/app/api/**/*.ts`, `src/lib/**/*.ts`
- 主要任务: API路由、服务器逻辑、数据处理
- 相关工具: Next.js API Routes, Better Auth, MongoDB

### 内容管理模式
- 文件模式: `content/**/*.md`
- 主要任务: 博客文章编写、快速参考文档管理
- 格式: Markdown + Gray Matter (frontmatter)
- 处理: Remark + Rehype (数学公式、代码高亮、目录生成)

### 工具开发模式
- 文件模式: `src/app/tools/**/*.tsx`, `src/lib/tools/**/*.ts`
- 主要任务: 实用工具页面开发 (高级搜索、GPT-4o图像提示等)
- 特点: 交互式工具、数据可视化

### 认证系统模式
- 文件模式: `src/auth*.ts`, `src/components/features/auth/**/*.tsx`
- 主要任务: 用户认证、会话管理、权限控制
- 技术: Better Auth + MongoDB适配器

### 样式系统模式
- 文件模式: `src/app/globals.css`, `src/components/ui/**/*.tsx`
- 主要任务: 设计系统维护、主题配置、响应式设计
- 特点: 支持深色模式、自定义CSS变量、shadcn/ui组件

### LLM集成模式
- 文件模式: `src/app/api/llm/**/*.ts`
- 主要任务: AI功能集成、聊天接口、语言模型调用
- 技术: LangChain + OpenAI

### 部署模式
- 构建命令: `npm run build`
- 开发服务器: `npm run dev`
- 生产服务器: `npm run start`
- 环境配置: `.env.local` (基于 `.env.example`)

## 文件结构模式

### 核心应用
```
src/app/
├── globals.css          # 全局样式和Tailwind配置
├── layout.tsx           # 根布局
├── page.tsx            # 首页
├── about/              # 关于页面 (简历、相册、价值观等)
├── posts/              # 博客文章页面
├── tools/              # 实用工具页面
└── api/                # API路由
```

### 组件系统
```
src/components/
├── ui/                 # shadcn/ui基础组件
├── features/           # 功能特定组件
│   ├── auth/          # 认证相关
│   ├── posts/         # 博客相关
│   ├── comment/       # 评论系统
│   ├── tools/         # 工具相关
│   └── resume/        # 简历相关
└── layout/            # 布局组件
```

### 库和工具
```
src/lib/
├── utils.ts           # 通用工具函数
├── posts/             # 博客文章处理
├── tools/             # 工具逻辑
├── comments/          # 评论系统
└── services/          # 外部服务集成
```

## 技术栈特点

### 现代React特性
- React 19 + TypeScript
- 服务器组件和客户端组件混合
- App Router (Next.js 13+)

### 样式系统
- Tailwind CSS v4 (最新语法)
- CSS变量主题系统
- 深色/浅色模式支持
- 响应式设计

### 内容处理
- Markdown处理: remark + rehype
- 数学公式: KaTeX
- 代码高亮: Prism.js
- 目录生成: remark-toc

### 开发工具
- ESLint + Prettier
- TypeScript严格模式
- 热重载开发环境

## 常用开发命令

```bash
# 开发
npm run dev

# 构建
npm run build

# 生产运行
npm run start

# 代码检查
npx eslint src/

# 格式化代码
npx prettier --write src/
```

## 推荐开发工作流

1. **功能开发**: 先在 `src/components/features/` 创建组件
2. **页面集成**: 在 `src/app/` 对应路由中集成组件
3. **样式调整**: 使用 Tailwind 类或在 `globals.css` 添加自定义样式
4. **API开发**: 在 `src/app/api/` 创建路由，在 `src/lib/` 添加业务逻辑
5. **内容管理**: 在 `content/` 目录管理Markdown内容
6. **测试验证**: 本地开发服务器测试功能